<script>
    // Sample team data
    const sampleTeams = [
        { number: '1234', name: 'Reef Explorers' },
        { number: '5678', name: 'Coral Crusaders' },
        { number: '9012', name: 'Ocean Builders' }
    ];

    // On page load, show teams
    document.addEventListener('DOMContentLoaded', () => {
        displayTeams(sampleTeams);
    });

    // Display teams in numerical order
    function displayTeams(teamsToDisplay) {
        const container = document.getElementById('teamButtons');
        container.innerHTML = '';

        const sortedTeams = [...teamsToDisplay].sort((a, b) => parseInt(a.number) - parseInt(b.number));

        sortedTeams.forEach(team => {
            const btn = document.createElement('button');
            btn.className = 'team-btn';
            btn.textContent = `${team.number} ${team.name}`;
            btn.onclick = () => {
                const teamPage = `${team.number}${team.name.replace(/\s+/g, '')}.html`;
                window.location.href = teamPage;
            };
            container.appendChild(btn);
        });
    }

    // Search functionality
    document.getElementById('searchButton').addEventListener('click', () => {
        const term = document.getElementById('searchBar').value.toLowerCase();
        const filtered = sampleTeams.filter(team =>
            team.number.includes(term) || team.name.toLowerCase().includes(term)
        );
        displayTeams(filtered);
    });

    document.getElementById('searchBar').addEventListener('keyup', function(e) {
        if (e.key === 'Enter') {
            document.getElementById('searchButton').click();
        }
    });

    // New Team Modal logic
    const modal = document.getElementById('newTeamModal');
    const newTeamBtn = document.getElementById('newTeamBtn');
    const closeBtn = document.getElementsByClassName('close')[0];
    const submitTeamBtn = document.getElementById('submitTeam');

    newTeamBtn.onclick = () => modal.style.display = 'block';
    closeBtn.onclick = () => modal.style.display = 'none';
    window.onclick = event => { if (event.target == modal) modal.style.display = 'none'; }

    submitTeamBtn.onclick = () => {
        const teamNumber = document.getElementById('teamNumber').value.trim();
        const teamName = document.getElementById('teamName').value.trim();

        if (teamNumber && teamName) {
            sampleTeams.push({ number: teamNumber, name: teamName });
            displayTeams(sampleTeams);
            document.getElementById('teamNumber').value = '';
            document.getElementById('teamName').value = '';
            modal.style.display = 'none';
        } else {
            alert('Please fill in both fields');
        }
    };
</script>
